version: 2
jobs:
  build:
    machine: 
      image: ubuntu-2004:202104-01
    steps:
      - checkout
      - run:
          halt_build_on_fail: false
          name: Setup environment for tests with Python 3
          command: |
             wget https://selenium-release.storage.googleapis.com/3.141/selenium-server-standalone-3.141.59.jar
      - run: ls
      - run: which java
      - run: chmod +x selenium-server-standalone-3.141.59.jar
      - run:
          name: Launch Selenium Grid Hub
          background: true
          command: |
            echo $PATH
            pwd
            java -jar selenium-server-standalone-3.141.59.jar -debug
      - run:
          name: Register Selenium Grid Node
          command: |
            echo $PATH
            pwd
            sleep 5
            java –jar selenium-server-standalone-3.141.59.jar –role node –hub http://127.0.0.1:444/grid/register -port 1234

workflows:
  version: 2
  build:
    jobs:
      - build