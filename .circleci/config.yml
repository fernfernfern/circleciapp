version: 2.1

parameters:
  condition1:
    default: true
    type: boolean
  condition2:
    default: false
    type: boolean

jobs:
    build:
        docker:
            - image: circleci/node
        steps:
            - checkout
            - when:
                condition: << pipeline.condition1 >>
                steps:
                  - run: echo "top level condition 1"
                  - when:
                      condition: << pipeline.condition1 >>
                      steps:
                        - run: echo "nested condition 1"
                  - whne:
                      condition: << pipeline.condition2 >>
                      steps:
                        - run: echo "nested condition 2"
            - when:
                condition: << pipeline.condition2 >>
                steps:
                  - run: echo "top level condition 2"

