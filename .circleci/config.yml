version: 2.1

setup: true
 
orbs:
  continuation: circleci/continuation@0.1.2

parameters:
  setup-config-param:
    default: "THIS IS A SETUP CONFIG PARAM"
    type: string
  yml-file:
    default: "main.yml"
    type: string

jobs:
  not-setup:
    docker:
      - image: cimg/node:13.13
    steps:
      - run: echo << pipeline.parameters.setup-config-param >>
      - run: echo << pipeline.parameters.other >>

  setup:
    executor: continuation/default
    steps:
      - checkout
      - run: echo << pipeline.parameters.setup-config-param >>
      - continuation/continue:
          configuration_path: ".circleci/continue/<< pipeline.parameters.yml-file >>"

workflows:
  setup:
    jobs:
      - setup